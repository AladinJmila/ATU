<h1 class='mb-4'>Shopping Basket</h1>
<div id="shopping-basket-container">
  {{#if data}}
    {{#each data}}
      <div id={{product_id}} class='basket-product-card'>
        <a href="/plants/{{product_id}}"><img src={{image_url}} alt='' /></a>
        <div class='product-info'>
          <div>
          <h4>{{name}}</h4>
          <i>Quantity in stock: {{quantity_in_stock}}</i>
          </div>
          <div class="order-controls">
          <p class="order-quantity">Quantity: 
              <button onclick="WAD.handleQuantityChange(this, 'decrement')" data-id={{product_id}}  class="decrement-product-count btn btn-primary"></button>
              <input id="quantity-{{product_id}}" min="1" max="100" type="number"  value="{{quantity}}"></input>
              <button onclick="WAD.handleQuantityChange(this, 'increment')" data-id={{product_id}}  class="increment-product-count btn btn-primary"></button>
              </p> 
            <button onclick="WAD.handleDeleteFromBasket(this)" data-id={{product_id}} class="btn btn-primary">Delete</button>
          </div>
        </div>
        <div class='product-price'>
          <p>Unit price: <b>&euro;<span class="unit-price">{{price}}</span></b></p>
          <p>Subtotal <span class='items-count'>
          </span>:
          <b >&euro;<span class='subtotal-price'></span></b>
          </p>
        </div>
      </div>
    {{/each}}
  {{/if}}
<button onclick="WAD.openPurchaseModal()" class="btn btn-primary checkout-btn">Checkout</button>
</div>
<div id="purchase-summary-modal">
  <div id="purchase-summary-container">
    <button onclick="WAD.closePurchaseModal()" class="close-purchase-modal"></button>
    <div id="purchase-summary">
      <form id="confirm-purchase">
        <h4 class="mb-3">Chose a payment method</h4>
        <fieldset  class="d-flex justify-content-around mb-4">
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paypal" id="paypal">
            <label class="form-check-label" for="paypal">
              Paypal
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="debit-card" id="debit-card" checked>
            <label class="form-check-label" for="debit-card">
              Debit Card
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="credit-card" id="credit-card" >
            <label class="form-check-label" for="credit-card">
              Credit Card
            </label>
          </div>
        </fieldset>
        <h4 class="mb-3">Email me a purchase summary &amp; comment</h4>
        <div class="mb-2">
          <label for="comment-purchase" class="form-label">Comment</label>
          <input type="text" class="form-control" id="comment-purchase" aria-describedby="email-help" required>
        </div>
        <div class="mb-5">
          <label for="email-purchase" class="form-label">Email address</label>
          <input type="email" class="form-control" id="email-purchase" aria-describedby="email-help" required>
          <div id="email-help" class="form-text">We'll never share your email with anyone else.</div>
        </div>
        <input type="submit" id="trigger-form-validation" style="display: none" />
      </form>
    </div>
    <button onclick="WAD.confirmPurchase(this)" class="btn btn-primary pay">Pay</button>
  </div>
</div>